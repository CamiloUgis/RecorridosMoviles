// Initialize your app
var myApp = new Framework7();

var mostrarRapido = false;
var mostrarTrece = false;

// Add view
var mainView = myApp.addView('.view-main', {
    // Because we use fixed-through navbar we can enable dynamic navbar
    dynamicNavbar: true
});

document.addEventListener("deviceready", function () {
    $('#geo').bind('click', geo);
    $('#rapidoIda').bind('change', lineaRapido);
    $('#rapidoVuelta').bind('change', lineaRapido);
    $('#13ida').bind('change', linea13);
    $('#13vuelta').bind('change', linea13);
    $('#11ida').bind('change', linea11);
    $('#11vuelta').bind('change', linea11);
});

function geo() {
    myApp.showPreloader('Localizando... Espere unos segundos...');
    navigator.geolocation.getCurrentPosition(
            function (position) {
                $('#lat').html(position.coords.latitude);
                $('#lon').html(position.coords.longitude);
                var map = new google.maps.Map(document.getElementById('map'), {
                    center: {lat: position.coords.latitude, lng: position.coords.longitude},
                    zoom: 16
                });
                var marker = new google.maps.Marker({
                    position: {lat: position.coords.latitude, lng: position.coords.longitude},
                    map: map,
                    title: 'Mi posición'
                });
                myApp.hidePreloader();
                var directionsService = new google.maps.DirectionsService;
                var directionsDisplay = new google.maps.DirectionsRenderer({
                    map: map
                });

//            <!--
                function renderDirections(result) {
                    var directionsRenderer = new google.maps.DirectionsRenderer;
                    directionsRenderer.setMap(map);
                    directionsRenderer.setDirections(result);
                }

                var directionsService = new google.maps.DirectionsService;
                function requestDirections(start, end) {
                    directionsService.route({
                        origin: start,
                        destination: end,
                        travelMode: google.maps.DirectionsTravelMode.WALKING
                    }, function (result) {
                        renderDirections(result);
                    });
                }

                //Línea Rápido Ida
                var coordenadasRapidoIda = [
                    {lat: -36.62591678228322, lng: -72.0678998529911},
                    {lat: -36.62561541759914, lng: -72.06952661275864},
                    {lat: -36.625593891505204, lng: -72.07119092345238},
                    {lat: -36.63117325388117, lng: -72.07284852862358},
                    {lat: -36.63037253688364, lng: -72.07706227898598},
                    {lat: -36.6256670802001, lng: -72.07567557692528},
                    {lat: -36.625408766849056, lng: -72.08317503333092},
                    {lat: -36.627072720179065, lng: -72.083325907588},
                    {lat: -36.62817052224152, lng: -72.08304360508919},
                    {lat: -36.62882704345378, lng: -72.0867745578289},
                    {lat: -36.62822218312979, lng: -72.08803988993168},
                    {lat: -36.62880228947675, lng: -72.08850793540478},
                    {lat: -36.628867941311455, lng: -72.09021247923374},
                    {lat: -36.626872531058424, lng: -72.09546826779842},
                    {lat: -36.624329222933945, lng: -72.09400109946728},
                    {lat: -36.623740472273916, lng: -72.09791041910648},
                    {lat: -36.621225046320085, lng: -72.09607981145382},
                    {lat: -36.61943072356408, lng: -72.09517523646355},
                    {lat: -36.61918100046982, lng: -72.09524162113667},
                    {lat: -36.617460903044666, lng: -72.09629707038403},
                    {lat: -36.61726176538231, lng: -72.09622733294964},
                    {lat: -36.6098136474811, lng: -72.09346398711205},
                    {lat: -36.60828927278529, lng: -72.09976986050606},
                    {lat: -36.610646873456076, lng: -72.10067057982087},
                    {lat: -36.60767133265258, lng: -72.11289390921593},
                    {lat: -36.59778577060809, lng: -72.1091978251934},
                    {lat: -36.60237665311492, lng: -72.09060341119766},
                    {lat: -36.60096087303316, lng: -72.0899174362421},
                    {lat: -36.60282022297362, lng: -72.08551123738289},
                    {lat: -36.6039097575278, lng: -72.08315022289753},
                    {lat: -36.60464400039528, lng: -72.08156369626522},
                    {lat: -36.604086320967035, lng: -72.08011999726295},
                    {lat: -36.60290204626116, lng: -72.07891836762428},
                    {lat: -36.59441564780987, lng: -72.07229599356651}           
                ];
                //Línea Rápido Vuelta

                var coordenadasRapidoVuelta = [
                    {lat: -36.59435319686095, lng: -72.07226078957319},
                    {lat: -36.60097271616822, lng: -72.07741901278496},
                    {lat: -36.60361261326646, lng: -72.07953125238419},
                    {lat: -36.604103546646776, lng: -72.08013743162155},
                    {lat: -36.60464400039528, lng: -72.08156369626522},
                    {lat: -36.60551603929597, lng: -72.08406955003738},
                    {lat: -36.60513492721144, lng: -72.08645805716515},
                    {lat: -36.6039614346738, lng: -72.08599671721458},
                    {lat: -36.60330470170112, lng: -72.0886467397213},
                    {lat: -36.60323149177746, lng: -72.08871111273766},
                    {lat: -36.60286005800602, lng: -72.08854950964451},
                    {lat: -36.60272548011122, lng: -72.08907321095467},
                    {lat: -36.602420794889895, lng: -72.09027417004108},
                    {lat: -36.602211928707256, lng: -72.09071673452854},
                    {lat: -36.60141198752993, lng: -72.09386564791203},
                    {lat: -36.60123757125925, lng: -72.09442622959614},
                    {lat: -36.598339188843205, lng: -72.10621520876884},
                    {lat: -36.597673794451204, lng: -72.10916832089424},
                    {lat: -36.59766518089394, lng: -72.10946537554264},
                    {lat: -36.59774162618103, lng: -72.10952840745449},
                    {lat: -36.60391298735044, lng: -72.11178950965405},
                    {lat: -36.6085347249833, lng: -72.0931850373745},
                    {lat: -36.60977919866818, lng: -72.09365710616112},
                    {lat: -36.608293578970944, lng: -72.09975913167},
                    {lat: -36.61581396529315, lng: -72.10258886218071},
                    {lat: -36.617282217382154, lng: -72.09636613726616},
                    {lat: -36.61916593094686, lng: -72.09525100886822},
                    {lat: -36.61945225137916, lng: -72.09517791867256},
                    {lat: -36.62122827541757, lng: -72.09608383476734},
                    {lat: -36.62373616695088, lng: -72.09792450070381},
                    {lat: -36.62402677571599, lng: -72.09623001515865},
                    {lat: -36.62418822455651, lng: -72.09485605359077},
                    {lat: -36.62434321512527, lng: -72.0940051227808},
                    {lat: -36.62601580185079, lng: -72.09490433335304},
                    {lat: -36.62686822591033, lng: -72.09546558558941},
                    {lat: -36.62887009382969, lng: -72.09017023444176},
                    {lat: -36.62880336573678, lng: -72.08849653601646},
                    {lat: -36.628235098346444, lng: -72.08802983164787},
                    {lat: -36.62882166215509, lng: -72.08678059279919},
                    {lat: -36.62818128492942, lng: -72.08303824067116},
                    {lat: -36.62706303362068, lng: -72.08332724869251},
                    {lat: -36.62539585115878, lng: -72.08318307995796},
                    {lat: -36.625589586285685, lng: -72.08070538938046},
                    {lat: -36.625675690630224, lng: -72.07567825913429},
                    {lat: -36.62777660682968, lng: -72.07627438008785},
                    {lat: -36.63036930816923, lng: -72.0770575851202},
                    {lat: -36.63121630294644, lng: -72.07264803349972},
                    {lat: -36.62566169868079, lng: -72.07092069089413},
                    {lat: -36.625605730857615, lng: -72.0697981864214},
                    {lat: -36.62567246171904, lng: -72.0689157396555},
                    {lat: -36.62592754528586, lng: -72.06788375973701}     
                ];
                //Línea 13 Ida
                var coordenadasLinea13Ida = [
                    {lat: -36.626829479566695, lng: -72.13505767285824},
                    {lat: -36.6266034588406, lng: -72.13664151728153},
                    {lat: -36.62773678466779, lng: -72.1369781345129},
                    {lat: -36.62780781878001, lng: -72.13717125356197},
                    {lat: -36.62781104760173, lng: -72.13759236037731},
                    {lat: -36.62811993758819, lng: -72.13787131011486},
                    {lat: -36.62888408519668, lng: -72.13827230036259},
                    {lat: -36.62924463108535, lng: -72.13578756898642},
                    {lat: -36.62933449823081, lng: -72.1351270750165},
                    {lat: -36.62944266154237, lng: -72.13411286473274},
                    {lat: -36.629853788366326, lng: -72.13126100599766},
                    {lat: -36.62744296105356, lng: -72.13061258196831},
                    {lat: -36.62764314869255, lng: -72.12910786271095},
                    {lat: -36.62810809862197, lng: -72.1261440217495},
                    {lat: -36.63293824583703, lng: -72.12736710906029},
                    {lat: -36.63322236271571, lng: -72.12588384747505},
                    {lat: -36.63132392550439, lng: -72.1253876388073},
                    {lat: -36.63186418847418, lng: -72.12374076247215},
                    {lat: -36.632083736487104, lng: -72.12378837168217},
                    {lat: -36.63214400445965, lng: -72.12371192872524},
                    {lat: -36.63231512219623, lng: -72.12288312613964},
                    {lat: -36.63041558639621, lng: -72.12230578064919},
                    {lat: -36.630478008146724, lng: -72.12188467383385},
                    {lat: -36.63061361384428, lng: -72.12081179022789},
                    {lat: -36.629091802884766, lng: -72.12019219994545},
                    {lat: -36.62949647407863, lng: -72.11876794695854},
                    {lat: -36.628382546916576, lng: -72.11814634501934},
                    {lat: -36.62867582881782, lng: -72.11725886911154},
                    {lat: -36.62845411856607, lng: -72.11678931489587},
                    {lat: -36.62883323194679, lng: -72.11635882034898},
                    {lat: -36.62918355365421, lng: -72.11590083315969},
                    {lat: -36.62929602219034, lng: -72.11563428863883},
                    {lat: -36.62978490863253, lng: -72.11388096213341},
                    {lat: -36.63004966477281, lng: -72.11298443377018},
                    {lat: -36.630642672177, lng: -72.11217306554317},
                    {lat: -36.63119047351017, lng: -72.11141668260098},
                    {lat: -36.62914776817649, lng: -72.11106464266777},
                    {lat: -36.62862685888991, lng: -72.11044169962406},
                    {lat: -36.62808549695414, lng: -72.11128123104572},
                    {lat: -36.627329951672905, lng: -72.11072199046612},
                    {lat: -36.62611697388627, lng: -72.1103947609663},
                    {lat: -36.62613634723963, lng: -72.10927829146385},
                    {lat: -36.62662067949067, lng: -72.10770919919014},
                    {lat: -36.626952176254726, lng: -72.1065665781498},
                    {lat: -36.6248426270602, lng: -72.10559830069542},
                    {lat: -36.622745936265, lng: -72.10457906126976},
                    {lat: -36.62163083517805, lng: -72.1046756207943},
                    {lat: -36.62082356081203, lng: -72.10487678647041},
                    {lat: -36.62016912418825, lng: -72.10522010922432},
                    {lat: -36.619958153303024, lng: -72.10533812642097},
                    {lat: -36.618610509331845, lng: -72.105163782835},
                    {lat: -36.617460903044666, lng: -72.10443422198296},
                    {lat: -36.61538338753113, lng: -72.10342839360237},
                    {lat: -36.61523160829684, lng: -72.1040553599596},
                    {lat: -36.61029592924612, lng: -72.10219793021679},
                    {lat: -36.606678742494246, lng: -72.10087157785892},
                    {lat: -36.608571327437126, lng: -72.09298118948936},
                    {lat: -36.60430756299876, lng: -72.09136884659529},
                    {lat: -36.6044959681216, lng: -72.08974074572325},
                    {lat: -36.60464292379797, lng: -72.08810325711966},
                    {lat: -36.60486470253037, lng: -72.08637021481991},
                    {lat: -36.605140310163605, lng: -72.08644933998585},
                    {lat: -36.60529856878915, lng: -72.08505593240261},
                    {lat: -36.60539438507811, lng: -72.08414532244205},
                    {lat: -36.60676271482438, lng: -72.08341576159},
                    {lat: -36.60688759658217, lng: -72.08332724869251},
                    {lat: -36.60643113124493, lng: -72.08283640444279},
                    {lat: -36.60673687719407, lng: -72.08107821643353},
                    {lat: -36.609092372249066, lng: -72.08170786499977},
                    {lat: -36.611499467460405, lng: -72.0825769007206},
                    {lat: -36.612235791060264, lng: -72.082829028368},
                    {lat: -36.612735281429764, lng: -72.08327427506447},
                    {lat: -36.6130345435064, lng: -72.08366587758064},
                    {lat: -36.6139387815737, lng: -72.0840172469616},
                    {lat: -36.614849467766895, lng: -72.08429351449013},
                    {lat: -36.61544151566939, lng: -72.08452418446541},
                    {lat: -36.61600987737896, lng: -72.08487287163734},
                    {lat: -36.61828543513498, lng: -72.08549246191978},
                    {lat: -36.6185351611301, lng: -72.08408161997795},
                    {lat: -36.61889898462358, lng: -72.08350494503975},
                    {lat: -36.61984836210373, lng: -72.07888349890709},
                    {lat: -36.619163778157635, lng: -72.07864478230476},
                    {lat: -36.61943287634586, lng: -72.07717224955559},
                    {lat: -36.616666502168236, lng: -72.07635685801506},
                    {lat: -36.61417129821998, lng: -72.07557365298271},
                    {lat: -36.614373673248835, lng: -72.07444176077843},
                    {lat: -36.61258672644238, lng: -72.07388252019882},
                    {lat: -36.61165986603652, lng: -72.07360692322254},
                    {lat: -36.61191284297853, lng: -72.07227990031242},
                    {lat: -36.610401427980186, lng: -72.07179509103298}                                 
                ];
                // Línea 13 Vuelta
                var coordenadasLinea13Vuelta = [
                    {lat: -36.610401427980186, lng: -72.07179509103298},
                    {lat: -36.61012583914648, lng: -72.07314692437649},
                    {lat: -36.61438013201761, lng: -72.07444712519646},
                    {lat: -36.61416914529128, lng: -72.07557901740074},
                    {lat: -36.61943287634586, lng: -72.07718063145876},
                    {lat: -36.61916108717101, lng: -72.07864712923765},
                    {lat: -36.619855896798875, lng: -72.0788898691535},
                    {lat: -36.61931877882875, lng: -72.08148255944252},
                    {lat: -36.61890329021677, lng: -72.08351500332355},
                    {lat: -36.61852870270938, lng: -72.08408497273922},
                    {lat: -36.61827467106528, lng: -72.08549983799458},
                    {lat: -36.615995883675055, lng: -72.08487756550312},
                    {lat: -36.61543398054283, lng: -72.08453021943569},
                    {lat: -36.61482901512175, lng: -72.08429150283337},
                    {lat: -36.61393016983259, lng: -72.08401523530483},
                    {lat: -36.61314219145139, lng: -72.08374701440334},
                    {lat: -36.612735281429764, lng: -72.08329103887081},
                    {lat: -36.612219643688306, lng: -72.0828203111887},
                    {lat: -36.61112376747621, lng: -72.08242736756802},
                    {lat: -36.609084836502085, lng: -72.08171255886555},
                    {lat: -36.60672288180737, lng: -72.0810916274786},
                    {lat: -36.60642682495531, lng: -72.08281762897968},
                    {lat: -36.60675517884976, lng: -72.0831985026598},
                    {lat: -36.60656031982201, lng: -72.08339564502239},
                    {lat: -36.606590463792195, lng: -72.0834868401289},
                    {lat: -36.60541053387914, lng: -72.08412788808346},
                    {lat: -36.60536639381499, lng: -72.0842619985342},
                    {lat: -36.605136003801896, lng: -72.08645738661289},
                    {lat: -36.60487331528382, lng: -72.086386308074},
                    {lat: -36.604483587227655, lng: -72.08973504602909},
                    {lat: -36.60429841188108, lng: -72.09137789905071},
                    {lat: -36.603625532605975, lng: -72.09112845361233},
                    {lat: -36.603581391520386, lng: -72.09129743278027},
                    {lat: -36.607245015668006, lng: -72.09268614649773},
                    {lat: -36.605725973114474, lng: -72.09883075207472},
                    {lat: -36.615600829601476, lng: -72.10250571370125},
                    {lat: -36.61538554042592, lng: -72.10342034697533},
                    {lat: -36.61743937467354, lng: -72.10443824529648},
                    {lat: -36.61825529573604, lng: -72.10498407483101},
                    {lat: -36.61866002382433, lng: -72.10518255829811},
                    {lat: -36.62018849903651, lng: -72.10533007979393},
                    {lat: -36.620218637679706, lng: -72.10798278450966},
                    {lat: -36.620440371620916, lng: -72.1090342104435},
                    {lat: -36.62080418612336, lng: -72.11155280470848},
                    {lat: -36.62097855814605, lng: -72.11404725909233},
                    {lat: -36.621047445750015, lng: -72.11514964699745},
                    {lat: -36.62078481142983, lng: -72.1183468401432},
                    {lat: -36.619396279047436, lng: -72.11998030543327},
                    {lat: -36.618343561085375, lng: -72.11844071745872},
                    {lat: -36.61815411338199, lng: -72.11871966719627},
                    {lat: -36.61799480472563, lng: -72.11929097771645},
                    {lat: -36.61750395976891, lng: -72.1207956969738},
                    {lat: -36.61745013885986, lng: -72.12150916457176},
                    {lat: -36.61762451846884, lng: -72.1222896873951},
                    {lat: -36.61809814010782, lng: -72.12316945195198},
                    {lat: -36.61852439709527, lng: -72.12351277470589},
                    {lat: -36.61723916053408, lng: -72.12594017386436},
                    {lat: -36.6163780185233, lng: -72.12752804160118},
                    {lat: -36.615372623056274, lng: -72.12936334311962},
                    {lat: -36.61355878758236, lng: -72.12760247290134},
                    {lat: -36.61263086237431, lng: -72.12682463228703},
                    {lat: -36.61069101049825, lng: -72.1253440529108},
                    {lat: -36.60970707141632, lng: -72.12461851537228},
                    {lat: -36.61188270108856, lng: -72.11983613669872},
                    {lat: -36.612304686475994, lng: -72.11612597107887},
                    {lat: -36.61266853936939, lng: -72.11479291319847},
                    {lat: -36.603982966807756, lng: -72.11153671145439},
                    {lat: -36.60708783759936, lng: -72.09933802485466},
                    {lat: -36.61560728826746, lng: -72.10250303149223},
                    {lat: -36.61537908174136, lng: -72.1034337580204},
                    {lat: -36.61745229169694, lng: -72.10443422198296},
                    {lat: -36.61838231169463, lng: -72.10503503680229},
                    {lat: -36.618682628255975, lng: -72.10518725216389},
                    {lat: -36.61999152118555, lng: -72.10533745586872},
                    {lat: -36.62018526989548, lng: -72.10520602762699},
                    {lat: -36.62113893700387, lng: -72.10477821528912},
                    {lat: -36.62170187491757, lng: -72.10466019809246},
                    {lat: -36.622716874954904, lng: -72.10456363856792},
                    {lat: -36.623990180598454, lng: -72.10517652332783},
                    {lat: -36.62524947318438, lng: -72.10576929152012},
                    {lat: -36.62694894739702, lng: -72.10656993091106},
                    {lat: -36.626142805022994, lng: -72.10928902029991},
                    {lat: -36.62611266869599, lng: -72.11039677262306},
                    {lat: -36.627326722831015, lng: -72.11072400212288},
                    {lat: -36.62808226814392, lng: -72.111287266016},
                    {lat: -36.628633316464615, lng: -72.11044237017632},
                    {lat: -36.62915422570753, lng: -72.11106732487679},
                    {lat: -36.630970922952294, lng: -72.11138918995857},
                    {lat: -36.629853788366326, lng: -72.11299315094948},
                    {lat: -36.62953091408212, lng: -72.11413845419884},
                    {lat: -36.62931996881919, lng: -72.11437717080116},
                    {lat: -36.628478334522654, lng: -72.11569681763649},
                    {lat: -36.62814038670736, lng: -72.1162761747837},
                    {lat: -36.6286742144251, lng: -72.11721494793892},
                    {lat: -36.628387928245914, lng: -72.11813226342201},
                    {lat: -36.629494321577894, lng: -72.11876593530178},
                    {lat: -36.629085345348486, lng: -72.12020561099052},
                    {lat: -36.630217558439256, lng: -72.12060660123825},
                    {lat: -36.63062868112929, lng: -72.12082251906395},
                    {lat: -36.63041558639621, lng: -72.12230645120144},
                    {lat: -36.63142293812496, lng: -72.12261356413364},
                    {lat: -36.63093755982258, lng: -72.1244253963232},
                    {lat: -36.630708322443915, lng: -72.12472446262836},
                    {lat: -36.630600699026225, lng: -72.12521128356457},
                    {lat: -36.63322666750885, lng: -72.12588854134083 },
                    {lat: -36.63293394102778, lng: -72.12735638022423},
                    {lat: -36.63271439543721, lng: -72.12888792157173},
                    {lat: -36.627875624007885, lng: -72.12762996554375},
                    {lat: -36.62743004570415, lng: -72.13060788810253},
                    {lat: -36.63107316471149, lng: -72.13158018887043},
                    {lat: -36.630434958669014, lng: -72.13611714541912},
                    {lat: -36.62681387339501, lng: -72.13513042777777},
                    {lat: -36.62661798876436, lng: -72.13660698384047}
                ];
                
                var coordenadasLinea11Ida = [
                    {lat: -36.607630423549196, lng: -72.07223698496819},
                    {lat: -36.6073623607296, lng: -72.07211159169674},
                    {lat: -36.607815590896585, lng: -72.07064040005207},
                    {lat: -36.608031977756674, lng: -72.07000873982906},
                    {lat: -36.60908053036061, lng: -72.07031853497028},
                    {lat: -36.60926784729211, lng: -72.06968821585178},
                    {lat: -36.609467005599576, lng: -72.06903778016567},
                    {lat: -36.6084216878839, lng: -72.0687185972929},
                    {lat: -36.60706200007795, lng: -72.07308992743492},
                    {lat: -36.60736559040768, lng: -72.07326896488667},
                    {lat: -36.607391427827366, lng: -72.07336150109768},
                    {lat: -36.607136282928636, lng: -72.07423187792301},
                    {lat: -36.60787372473953, lng: -72.07457654178143},
                    {lat: -36.606552783827624, lng: -72.07906253635883},
                    {lat: -36.60607586154226, lng: -72.08079926669598},
                    {lat: -36.606110312009314, lng: -72.08092130720615},
                    {lat: -36.60672718808048, lng: -72.0810929685831},
                    {lat: -36.60909021917857, lng: -72.0817132294178},
                    {lat: -36.611124843983085, lng: -72.08242401480675},
                    {lat: -36.612235791060264, lng: -72.082829028368},
                    {lat: -36.612746315393856, lng: -72.08329623565078},
                    {lat: -36.61305822606719, lng: -72.08366923034191},
                    {lat: -36.61349850507737, lng: -72.08389051258564},
                    {lat: -36.614839779672494, lng: -72.08428613841534},
                    {lat: -36.615436133436205, lng: -72.0845315605402},
                    {lat: -36.61596466694181, lng: -72.08485342562199},
                    {lat: -36.615994807236184, lng: -72.08500631153584},
                    {lat: -36.615994807236184, lng: -72.08509348332882},
                    {lat: -36.61623808203809, lng: -72.08642788231373},
                    {lat: -36.6163360376044, lng: -72.0869854465127},
                    {lat: -36.61534086784669, lng: -72.08705116063356},
                    {lat: -36.61526336355143, lng: -72.08711687475443},
                    {lat: -36.61523107007208, lng: -72.08724495023489},
                    {lat: -36.615192317879, lng: -72.08756681531668},
                    {lat: -36.615010935827506, lng: -72.08880499005318},
                    {lat: -36.61301301389937, lng: -72.0883409678936},
                    {lat: -36.61276757595437, lng: -72.08825513720512},
                    {lat: -36.61261471508507, lng: -72.08811029791832},
                    {lat: -36.61227885070231, lng: -72.08790108561516},
                    {lat: -36.61057690004475, lng: -72.08713330328465},
                    {lat: -36.60982333620696, lng: -72.08666659891605},
                    {lat: -36.60903208625256, lng: -72.0862253755331},
                    {lat: -36.60860254716343, lng: -72.08650030195713},
                    {lat: -36.608539031155246, lng: -72.08659686148167},
                    {lat: -36.608551949669625, lng: -72.08780519664288},
                    {lat: -36.60811917826002, lng: -72.08771534264088},
                    {lat: -36.60756475362735, lng: -72.08748333156109},
                    {lat: -36.60735590137306, lng: -72.09198944270611},
                    {lat: -36.607244746527755, lng: -72.09268866106868},
                    {lat: -36.60976843341099, lng: -72.0936406776309},
                    {lat: -36.60902132089108, lng: -72.09670476615429},
                    {lat: -36.611486549439746, lng: -72.09761001169682},
                    {lat: -36.607669179542405, lng: -72.11288049817085},
                    {lat: -36.60757767230491, lng: -72.11326472461224},
                    {lat: -36.60740757621028, lng: -72.1139071136713},
                    {lat: -36.607211642269256, lng: -72.1142490953207},
                    {lat: -36.606966185860564, lng: -72.11456559598446},
                    {lat: -36.60662383745973, lng: -72.11488880217075},
                    {lat: -36.60630409559981, lng: -72.11521603167057},
                    {lat: -36.606041411059806, lng: -72.11564384400845},
                    {lat: -36.60584547364827, lng: -72.1161588281393},
                    {lat: -36.60562585090307, lng: -72.11708821356297},
                    {lat: -36.60472797494062, lng: -72.12061531841755},
                    {lat: -36.607320374902386, lng: -72.12277047336102},
                    {lat: -36.60725470471655, lng: -72.12287910282612},
                    {lat: -36.60743502845347, lng: -72.12414141744375},
                    {lat: -36.604253732879144, lng: -72.12486695498228},
                    {lat: -36.604478204229665, lng: -72.12620638310909},
                    {lat: -36.60551173295525, lng: -72.12596498429775},
                    {lat: -36.60842922369567, lng: -72.14453089982271},
                    {lat: -36.60959403603516, lng: -72.14425228536129},
                    {lat: -36.6084335298735, lng: -72.13764533400536}                    
                    
                ];
                
                var coordenadasLinea11Vuelta = [
                    {lat: -36.60738712159135, lng: -72.13789477944374},
                    {lat: -36.605518192466235, lng: -72.12597571313381},
                    {lat: -36.604478204229665, lng: -72.1262077242136},
                    {lat: -36.60425642438601, lng: -72.12486829608679},
                    {lat: -36.606381070613146, lng: -72.12440561503172},
                    {lat: -36.605953131628304, lng: -72.12171636521816},
                    {lat: -36.605819635710716, lng: -72.12070651352406},
                    {lat: -36.60582286545338, lng: -72.1206072717905},
                    {lat: -36.606551707256926, lng: -72.11750529706478},
                    {lat: -36.60561616164991, lng: -72.1171297878027},
                    {lat: -36.60584547364827, lng: -72.11616955697536},
                    {lat: -36.60595420820735, lng: -72.11587585508823},
                    {lat: -36.60603710474842, lng: -72.11565054953098},
                    {lat: -36.60627287494313, lng: -72.11525894701481},
                    {lat: -36.606733647489676, lng: -72.1147895604372},
                    {lat: -36.60702755003597, lng: -72.11450256407261},
                    {lat: -36.60722779068982, lng: -72.11423702538013},
                    {lat: -36.607381738796, lng: -72.11394734680653},
                    {lat: -36.607472169708124, lng: -72.11372204124928},
                    {lat: -36.60766594987706, lng: -72.11290530860424},
                    {lat: -36.60398942644676, lng: -72.11152262985706},
                    {lat: -36.60853041881112, lng: -72.09318771958351},
                    {lat: -36.60976950993678, lng: -72.09363665431738},
                    {lat: -36.608285504872654, lng: -72.0997641608119},
                    {lat: -36.61580750664449, lng: -72.10258685052395},
                    {lat: -36.6165297955009, lng: -72.09952645003796},
                    {lat: -36.61877788971652, lng: -72.10039850324392},
                    {lat: -36.619865584262975, lng: -72.10081659257412},
                    {lat: -36.62118091530755, lng: -72.10143618285656},
                    {lat: -36.621892390259426, lng: -72.1018224209547},
                    {lat: -36.62175569285847, lng: -72.10270218551159},
                    {lat: -36.62172770753389, lng: -72.10422702133656},
                    {lat: -36.62169649312141, lng: -72.10466556251049},
                    {lat: -36.62272440936969, lng: -72.10456296801567},
                    {lat: -36.62439487857893, lng: -72.10538640618324},
                    {lat: -36.62569075888064, lng: -72.10596039891243},
                    {lat: -36.626950561825886, lng: -72.10656825453043},
                    {lat: -36.62732510841002, lng: -72.10668627172709},
                    {lat: -36.628440665253564, lng: -72.10686899721622},
                    {lat: -36.62871726488637, lng: -72.10477486252785},
                    {lat: -36.62887978016094, lng: -72.10350953042507},
                    {lat: -36.629831187210456, lng: -72.1037120372057},
                    {lat: -36.6303327160631, lng: -72.10381396114826},
                    {lat: -36.630913882754015, lng: -72.10393466055393},
                    {lat: -36.631080698309425, lng: -72.1024701744318},
                    {lat: -36.63110007041504, lng: -72.10154213011265},
                    {lat: -36.631251818407186, lng: -72.09948889911175},
                    {lat: -36.63140141365306, lng: -72.09754563868046},
                    {lat: -36.6310537925991, lng: -72.09745042026043},
                    {lat: -36.63042312005843, lng: -72.09724389016628},
                    {lat: -36.630038902345824, lng: -72.09906712174416},
                    {lat: -36.629904371881615, lng: -72.10098557174206},
                    {lat: -36.63113128101939, lng: -72.1011183410883},
                    {lat: -36.63108607945036, lng: -72.10201285779476},
                    {lat: -36.63091818767611, lng: -72.10394002497196},
                    {lat: -36.629904371881615, lng: -72.10371874272823},
                    {lat: -36.62887978016094, lng: -72.10351221263409},
                    {lat: -36.62871188358003, lng: -72.10478357970715},
                    {lat: -36.62843851272334, lng: -72.10686899721622},
                    {lat: -36.62722339981935, lng: -72.10665844380856},
                    {lat: -36.62524732056504, lng: -72.10577465593815},
                    {lat: -36.62273194378372, lng: -72.10456632077694},
                    {lat: -36.62169111132488, lng: -72.10466288030148},
                    {lat: -36.6210991114126, lng: -72.10478894412518},
                    {lat: -36.620178811612995, lng:-72.10520200431347},
                    {lat: -36.620025965436234, lng: -72.10532002151012},
                    {lat: -36.61907981933067, lng: -72.10525564849377},
                    {lat: -36.61859543969738, lng: -72.10515908896923},
                    {lat: -36.61740923494386, lng: -72.10440002381802},
                    {lat: -36.615384463978536, lng: -72.1034250408411},
                    {lat: -36.61523376119587, lng: -72.10406474769115},
                    {lat: -36.60667282136495, lng: -72.10087526589632},
                    {lat: -36.608524497823986, lng: -72.09321487694979},
                    {lat: -36.60857240397962, lng: -72.09293458610773},
                    {lat: -36.608598240995036, lng: -72.0900297537446},
                    {lat: -36.608589628657526, lng: -72.08911579102278},
                    {lat: -36.60855356448378, lng: -72.0878129079938},
                    {lat: -36.60853956942672, lng: -72.08660054951906},
                    {lat: -36.60859770272397, lng: -72.08650264889002},
                    {lat: -36.60889644258812, lng: -72.08632964640856},
                    {lat: -36.6090229356954, lng: -72.08622168749571},
                    {lat: -36.60931037032526, lng: -72.08635915070772},
                    {lat: -36.60982925709439, lng: -72.08666425198317},
                    {lat: -36.6109875892363, lng: -72.08737101405859},
                    {lat: -36.61232890750597, lng: -72.08791751414537},
                    {lat: -36.612685224889894, lng: -72.08818908780813},
                    {lat: -36.61284454451681, lng: -72.08828698843718},
                    {lat: -36.61501362695898, lng: -72.08881538361311},
                    {lat: -36.61523591409483, lng: -72.08718795329332},
                    {lat: -36.61531664776278, lng: -72.0870565250516},
                    {lat: -36.61560621182317, lng: -72.08701495081186},
                    {lat: -36.616340343340724, lng: -72.08698695525527},
                    {lat: -36.61599669100419, lng: -72.08504503592849},
                    {lat: -36.615973816675265, lng: -72.0848680101335},
                    {lat: -36.615431827649395, lng: -72.08453273400664},
                    {lat: -36.61483547385238, lng: -72.08429401740432},
                    {lat: -36.613936897755416, lng: -72.08402009680867},
                    {lat: -36.61332196318448, lng: -72.0838182605803},
                    {lat: -36.61312765898759, lng: -72.08373075351119},
                    {lat: -36.612328369260936, lng: -72.08287999033928},
                    {lat: -36.61114422110411, lng: -72.08242803812027},
                    {lat: -36.60787372473953, lng: -72.08135917782784},
                    {lat: -36.60613614984951, lng: -72.08093840628862},
                    {lat: -36.60608608902626, lng: -72.0808793976903},
                    {lat: -36.606073170098874, lng: -72.0807908847928},
                    {lat: -36.60655816668083, lng: -72.07905180752277},
                    {lat: -36.607888796469446, lng: -72.07456313073635},
                    {lat: -36.60749908364958, lng: -72.07441695034504},
                    {lat: -36.60675087257824, lng: -72.07407061010599},
                    {lat: -36.60781236123736, lng: -72.07064710557461},
                    {lat: -36.60792970543578, lng: -72.07032892853022},
                    {lat: -36.608406616258115, lng: -72.06872630864382},
                    {lat: -36.60946054641929, lng: -72.06903509795666},
                    {lat: -36.60936365865017, lng: -72.06937707960606},
                    {lat: -36.60908053036061, lng: -72.0703225582838},
                    {lat: -36.6080384370566, lng: -72.07001142203808},
                    {lat: -36.60841630516074, lng: -72.06871993839741},
                    {lat: -36.608733885183945, lng: -72.06763230264187}
                ];

                
                var polylineRapidoIda = new google.maps.Polyline({
                    path: coordenadasRapidoIda,
                    geodesic: true,
                    strokeColor: '#FF0000',
                    strokeOpacity: 1.0,
                    strokeWeight: 2
                });
                var polylineRapidoVuelta = new google.maps.Polyline({
                    path: coordenadasRapidoVuelta,
                    geodesic: true,
                    strokeColor: '#0000FF',
                    strokeOpacity: 1.0,
                    strokeWeight: 2
                });
                var polylineLinea13Ida = new google.maps.Polyline({
                    path: coordenadasLinea13Ida,
                    geodesic: true,
                    strokeColor: '#FF0000',
                    strokeOpacity: 1.0,
                    strokeWeight: 2
                });
                
                var polylineLinea13Vuelta = new google.maps.Polyline({
                    path: coordenadasLinea13Vuelta,
                    geodesic: true,
                    strokeColor: '#0000FF',
                    strokeOpacity: 1.0,
                    strokeWeight: 2
                });
                
                var polylineLinea11Ida = new google.maps.Polyline({
                    path: coordenadasLinea11Ida,
                    geodesic: true,
                    strokeColor: '#0000FF',
                    strokeOpacity: 1.0,
                    strokeWeight: 2
                });
                var polylineLinea11Vuelta = new google.maps.Polyline({
                    path: coordenadasLinea11Vuelta,
                    geodesic: true,
                    strokeColor: '#0000FF',
                    strokeOpacity: 1.0,
                    strokeWeight: 2
                });
                //Mostrar puntos en pantalla

                if (mostrarRapidoIda == true) {
                     polylineRapidoIda.setMap(map);
                }

                if (mostrarRapidoVuelta == true) {
                    polylineRapidoVuelta.setMap(map);
                }
                if(mostrarTreceIda == true){
                    polylineLinea13Ida.setMap(map);
                }
                if(mostrarTreceVuelta == true){
                    polylineLinea13Vuelta.setMap(map);
                }
                if(mostrar11Ida == true){
                    polylineLinea11Ida.setMap(map);

                }
                if(mostrar11Vuelta == true){
                    polylineLinea11Vuelta.setMap(map);

                }
 
            },
            function (error) {
                myApp.alert('Se ha producido un error, active GPS', 'APP_Recorrido');
                myApp.hidePreloader();
            }
    ,
            {
                maximumAge: 3000,
                timeout: 5000,
                enableHighAccuracy: true
            }
    );
}

function lineaRapido() {
    if (document.getElementById('rapidoIda').checked) {
        mostrarRapidoIda = true;
        mostrarRapidoVuelta = false;
        mostrarTreceIda = false;
        mostrarTreceVuelta = false;
        mostrar11Ida=false;
        mostrar11Vuelta=false;
        geo();
    } else {
        if (document.getElementById('rapidoVuelta').checked) {
            mostrarRapidoIda = false;
            mostrarRapidoVuelta = true;
            mostrarTreceIda = false;
            mostrarTreceVuelta = false;
            mostrar11Ida=false;
            mostrar11Vuelta=false;
            geo();   
        }

   }
}
function linea13(){
    if(document.getElementById('13ida').checked){
        mostrarRapidoIda = false;
        mostrarRapidoVuelta = false;
        mostrarTreceIda = true;
        mostrarTreceVuelta = false;
        mostrar11Ida=false;
        mostrar11Vuelta=false;
        geo();
    } else {
        if (document.getElementById('13vuelta').checked) {
            mostrarRapidoIda = false;
            mostrarRapidoVuelta = false;
            mostrarTreceIda = false;
            mostrarTreceVuelta = true;
            mostrar11Ida=false;
            mostrar11Vuelta=false;
            geo();   
        }

    }
}
    
function linea11(){
    if(document.getElementById('11ida').checked){
        mostrarRapidoIda = false;
        mostrarRapidoVuelta = false;
        mostrarTreceIda = false;
        mostrarTreceVuelta = false;
        mostrar11Ida=true;
        mostrar11Vuelta=false;
        geo();
    } else {
        if (document.getElementById('11vuelta').checked) {
            mostrarRapidoIda = false;
            mostrarRapidoVuelta = false;
            mostrarTreceIda = false;
            mostrarTreceVuelta = false;
            mostrar11Ida=false;
            mostrar11Vuelta=true;
            geo();   
        }

    }
}
//Descarga de imagen línea Rápido
function initRapido() {
    console.log('Inicio de descarga');
    window.requestFileSystem(window.TEMPORARY, 5 * 1024 * 1024, function (fs) {

        console.log('file system open: ' + fs.name);

        // Make sure you add the domain name to the Content-Security-Policy <meta> element.
        var fotoRapido = 'http://i.imgur.com/krdlB2M.jpg';
        // Parameters passed to getFile create a new file or return the file if it already exists.
        fs.root.getFile('downloaded-Rapido.png', {create: true, exclusive: false}, function (fileEntry) {
            downloadRapido(fileEntry, fotoRapido, true);

        }, error);
        
    }, error);
}

function error() {
    console.log("Error");
}

function downloadRapido(fileEntry, uri, readBinaryData) {

    var fileTransfer = new FileTransfer();
    var fileURL = fileEntry.toURL();

    fileTransfer.download(
            uri,
            fileURL,
            function (entry) {
                console.log("Successful download...");
                console.log("download complete: " + entry.toURL());
                displayImageByFileURLRapido(entry);
            },
            function (error) {
                console.log("download error source " + error.source);
                console.log("download error target " + error.target);
                console.log("upload error code" + error.code);
            },
            null, // or, pass false
            {
                //headers: {
                //    "Authorization": "Basic dGVzdHVzZXJuYW1lOnRlc3RwYXNzd29yZA=="
                //}
            }
    );
}

function displayImageByFileURLRapido(fileEntry) {
    var elem = document.getElementById('imgRapido');
    elem.src = fileEntry.toURL();
}

//Descaga Imagen línea 13
function initTrece() {
    console.log('Inicio de descarga');
    window.requestFileSystem(window.TEMPORARY, 5 * 1024 * 1024, function (fs) {

        console.log('file system open: ' + fs.name);

        // Make sure you add the domain name to the Content-Security-Policy <meta> element.
        var fotoTrece = 'http://i.imgur.com/3YdtsL9.jpg';
        fs.root.getFile('downloaded-Trece.png', {create: true, exclusive: false}, function (fileEntry) {
            downloadTrece(fileEntry, fotoTrece, true);
        }, error);    
    }, error);
}

function downloadTrece(fileEntry, uri, readBinaryData) {

    var fileTransfer = new FileTransfer();
    var fileURL = fileEntry.toURL();

    fileTransfer.download(
            uri,
            fileURL,
            function (entry) {
                console.log("Successful download...");
                console.log("download complete: " + entry.toURL());
                displayImageByFileURLTrece(entry);
            },
            function (error) {
                console.log("download error source " + error.source);
                console.log("download error target " + error.target);
                console.log("upload error code" + error.code);
            },
            null, // or, pass false
            {
                //headers: {
                //    "Authorization": "Basic dGVzdHVzZXJuYW1lOnRlc3RwYXNzd29yZA=="
                //}
            }
    );
}

function displayImageByFileURLTrece(fileEntry) {
    var elem = document.getElementById('imgTrece');
    elem.src = fileEntry.toURL();
}



function init11() {
    console.log('Inicio de descarga');
    window.requestFileSystem(window.TEMPORARY, 5 * 1024 * 1024, function (fs) {

        console.log('file system open: ' + fs.name);

        // Make sure you add the domain name to the Content-Security-Policy <meta> element.
        var foto11 = 'http://i.imgur.com/UyDdEN7.jpg';
        fs.root.getFile('downloaded-11.png', {create: true, exclusive: false}, function (fileEntry) {
            download11(fileEntry, foto11, true);
        }, error);    
    }, error);
}

function download11(fileEntry, uri, readBinaryData) {

    var fileTransfer = new FileTransfer();
    var fileURL = fileEntry.toURL();

    fileTransfer.download(
            uri,
            fileURL,
            function (entry) {
                console.log("Successful download...");
                console.log("download complete: " + entry.toURL());
                displayImageByFileURL11(entry);
            },
            function (error) {
                console.log("download error source " + error.source);
                console.log("download error target " + error.target);
                console.log("upload error code" + error.code);
            },
            null, // or, pass false
            {
                //headers: {
                //    "Authorization": "Basic dGVzdHVzZXJuYW1lOnRlc3RwYXNzd29yZA=="
                //}
            }
    );
}

function displayImageByFileURL11(fileEntry) {
    var elem = document.getElementById('img11');
    elem.src = fileEntry.toURL();
}

